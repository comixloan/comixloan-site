<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:body>

	<ui:composition template="/theme/base.xhtml">

		<ui:define name="content">
			<h2>lista volumi</h2>

			<div class="panel-group" id="accordion" role="tablist"
				aria-multiselectable="true">

				<c:forEach var="volumi" varStatus="status"
					items="#{volumeController.serie2volume.entrySet()}">
					<div class="panel panel-default">
						<div class="panel-heading" role="tab" id="heading-${status.index}">
							<h4 class="panel-title">
								<a data-toggle="collapse" data-parent="#accordion"
									href="#collapse-${status.index}" aria-expanded="false"
									aria-controls="collapse-${status.index}">
									${volumi.key.name} </a>
							</h4>
						</div>
						<div id="collapse-${status.index}"
							class="panel-collapse collapse in" role="tabpanel"
							aria-labelledby="heading-${status.index}">
							<div class="panel-body">
								<table class="table table-hover">
									<thead class="list-group-title">
										<tr>
											<td>Numero volume</td>
											<td>Prezzo</td>
										</tr>
									</thead>
									<tbody>
										<c:forEach var="volume" items="${volumi.value}">
											<tr>
												<td>${volume.number}</td>
												<td>${volume.price}</td>
											</tr>
										</c:forEach>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</c:forEach>


			</div>
			<div>
				<p class="bg-info bg-lg">
					fumetti posseduti: #{volumeController.numberOfComix}<br></br>
				</p>
				<p class="bg-danger bg-lg">
					valore totale #{volumeController.valueOfComix} â‚¬<br></br>
				</p>
			</div>

			<div>
				<h:link value="aggiungi volume"
					outcome="/volume/searchedSeries.xhtml" class="btn btn-warning" />
			</div>
		</ui:define>

		<ui:define name="title">
			Volumi posseduti
		</ui:define>

	</ui:composition>

</h:body>

</html>
